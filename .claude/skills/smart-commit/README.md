# æ™ºèƒ½ Git Commit Skill

## æ¦‚è¿°

è¿™ä¸ª skill ç”¨äºæ™ºèƒ½åœ°æäº¤ Git æ”¹åŠ¨ï¼Œ**åªæäº¤å½“å‰ Claude Code å¯¹è¯è¿‡ç¨‹ä¸­äº§ç”Ÿã€ä¿®æ”¹æˆ–åˆ é™¤çš„æ–‡ä»¶**ï¼Œè‡ªåŠ¨æ’é™¤å…¶ä»–å¼€å‘è€…æˆ–ä¼šè¯å¤–çš„æ”¹åŠ¨ã€‚

## æ ¸å¿ƒåŠŸèƒ½

- âœ… è‡ªåŠ¨è¯†åˆ«å¯¹è¯è¿‡ç¨‹ä¸­ä¿®æ”¹çš„æ–‡ä»¶
- âœ… æ’é™¤å…¶ä»–äººæˆ–ä¼šè¯å¤–çš„æ”¹åŠ¨
- âœ… æ˜¾ç¤ºè¯¦ç»†çš„æ–‡ä»¶å˜æ›´åˆ—è¡¨å’Œ diff
- âœ… æ™ºèƒ½ç”Ÿæˆç¬¦åˆè§„èŒƒçš„æäº¤ä¿¡æ¯
- âœ… å®‰å…¨æ£€æŸ¥ï¼ˆæ•æ„Ÿæ–‡ä»¶ã€å¤§æ–‡ä»¶ã€å†²çªæ ‡è®°ï¼‰
- âœ… ç”¨æˆ·ç¡®è®¤æœºåˆ¶ï¼Œé¿å…è¯¯æäº¤

## ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ª Skillï¼Ÿ

åœ¨å¤šäººåä½œçš„é¡¹ç›®ä¸­ï¼Œä½ çš„å·¥ä½œç›®å½•å¯èƒ½åŒ…å«ï¼š

1. ä½ åœ¨å½“å‰å¯¹è¯ä¸­ä¿®æ”¹çš„æ–‡ä»¶
2. å…¶ä»–å¼€å‘è€…ä¿®æ”¹ä½†å°šæœªæäº¤çš„æ–‡ä»¶
3. ä½ åœ¨ä¹‹å‰ä¼šè¯ä¸­ä¿®æ”¹ä½†æœªæäº¤çš„æ–‡ä»¶
4. å·¥å…·è‡ªåŠ¨ç”Ÿæˆæˆ–æ ¼å¼åŒ–çš„æ–‡ä»¶

**é—®é¢˜ï¼š** å¦‚æœç›´æ¥ä½¿ç”¨ `git add .` æˆ– `git commit -a`ï¼Œä¼šæŠŠæ‰€æœ‰è¿™äº›æ–‡ä»¶éƒ½æäº¤ï¼Œå¯¼è‡´ï¼š

- âŒ æäº¤äº†ä¸ç›¸å…³çš„æ”¹åŠ¨
- âŒ æäº¤äº†å…¶ä»–äººçš„å·¥ä½œ
- âŒ æäº¤å†å²æ··ä¹±
- âŒ ä»£ç å®¡æŸ¥å›°éš¾

**è§£å†³æ–¹æ¡ˆï¼š** ä½¿ç”¨ `smart-commit` skillï¼Œå®ƒä¼šï¼š

- âœ… åªæäº¤æœ¬æ¬¡å¯¹è¯ç›¸å…³çš„æ–‡ä»¶
- âœ… æ¸…æ™°çš„æäº¤å†å²
- âœ… ä¾¿äºä»£ç å®¡æŸ¥
- âœ… é¿å…å†²çª

## ä½¿ç”¨æ–¹æ³•

### æ–¹æ³• 1ï¼šé€šè¿‡ Claude Code è°ƒç”¨ skill

åœ¨ Claude Code å¯¹è¯ä¸­è¾“å…¥ï¼š

```
/skill smart-commit
```

æˆ–è€…ç›´æ¥è¯´ï¼š

```
è¯·å¸®æˆ‘æäº¤è¿™æ¬¡å¯¹è¯ä¸­ä¿®æ”¹çš„æ–‡ä»¶
```

### æ–¹æ³• 2ï¼šä½¿ç”¨åˆ«åï¼ˆæ¨èï¼‰

ä¸ºäº†æ›´æ–¹ä¾¿ä½¿ç”¨ï¼Œå¯ä»¥è®¾ç½® Git åˆ«åï¼š

```bash
# æ·»åŠ åˆ° ~/.gitconfig
git config --global alias.smart-commit '!claude-code skill smart-commit'

# ç„¶åå°±å¯ä»¥ä½¿ç”¨
git smart-commit
```

## å·¥ä½œæµç¨‹

### 1. åˆ†æé˜¶æ®µ

Skill ä¼šè‡ªåŠ¨ï¼š

- è·å–å½“å‰ä¼šè¯çš„æ—¶é—´çª—å£ï¼ˆé»˜è®¤ 30 åˆ†é’Ÿï¼‰
- æ‰«ææ‰€æœ‰æœªæäº¤çš„æ–‡ä»¶
- æ ¹æ®æ–‡ä»¶ä¿®æ”¹æ—¶é—´åˆ¤æ–­æ˜¯å¦å±äºæœ¬æ¬¡å¯¹è¯

```
ä¼šè¯æ—¶é—´çª—å£ï¼š
  å¼€å§‹: 2026-01-27 08:15:00
  ç»“æŸ: 2026-01-27 08:45:00

æ‰€æœ‰æœªæäº¤çš„æ”¹åŠ¨:
 M .claude/skills/check-logging/skill.md
 M .claude/skills/check-logging/README.md
?? .claude/skills/smart-commit/
 M core/src/providers/akshare/provider.py
 M core/src/providers/tushare/metrics.py
...

æ”¹åŠ¨æ–‡ä»¶æ€»æ•°: 15
```

### 2. åˆ†ç±»é˜¶æ®µ

å°†æ–‡ä»¶åˆ†ä¸ºä¸¤ç±»ï¼š

#### ğŸ“¦ å°†è¦æäº¤çš„æ–‡ä»¶

å±äºæœ¬æ¬¡å¯¹è¯ä¿®æ”¹çš„æ–‡ä»¶ï¼š

```
ğŸ“¦ å°†è¦æäº¤çš„æ–‡ä»¶ (æœ¬æ¬¡å¯¹è¯ä¿®æ”¹ï¼Œå…± 3 ä¸ª):
  ğŸ“ ä¿®æ”¹: .claude/skills/check-logging/skill.md
  ğŸ“ ä¿®æ”¹: .claude/skills/check-logging/README.md
  âœ¨ æœªè·Ÿè¸ª: .claude/skills/smart-commit/skill.md
```

#### â¸ï¸ æ’é™¤çš„æ–‡ä»¶

å…¶ä»–äººæˆ–ä¼šè¯å¤–ä¿®æ”¹çš„æ–‡ä»¶ï¼š

```
â¸ï¸  æ’é™¤çš„æ–‡ä»¶ (å…¶ä»–äººä¿®æ”¹æˆ–ä¼šè¯å¤–ä¿®æ”¹ï¼Œå…± 12 ä¸ª):
  âŠ˜  core/src/providers/akshare/provider.py (ä¿®æ”¹äº 01-26 15:30)
  âŠ˜  core/src/providers/tushare/metrics.py (ä¿®æ”¹äº 01-26 16:45)
  âŠ˜  core/tests/integration/test_provider.py (ä¿®æ”¹äº 01-25 10:20)
  ...
```

### 3. å®¡æŸ¥é˜¶æ®µ

æ˜¾ç¤ºæ¯ä¸ªå°†è¦æäº¤çš„æ–‡ä»¶çš„è¯¦ç»†æ”¹åŠ¨ï¼š

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æ–‡ä»¶: .claude/skills/check-logging/skill.md
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
@@ -1,7 +1,7 @@
 ---
 name: check-logging
-description: æ£€æŸ¥ä»£ç æ˜¯å¦æ­£ç¡®ä½¿ç”¨é¡¹ç›®çš„ç»Ÿä¸€æ—¥å¿—ç³»ç»Ÿï¼ˆåŸºäº loguruï¼‰
+description: æ£€æŸ¥ core å­é¡¹ç›®çš„ä»£ç æ˜¯å¦æ­£ç¡®ä½¿ç”¨ç»Ÿä¸€æ—¥å¿—ç³»ç»Ÿï¼ˆåŸºäº loguruï¼‰
...
```

### 4. ç¡®è®¤é˜¶æ®µ

ç”Ÿæˆæäº¤ä¿¡æ¯å¹¶è¯·æ±‚ç”¨æˆ·ç¡®è®¤ï¼š

```
å˜æ›´ç»Ÿè®¡:
  æ–°å¢æ–‡ä»¶: 1
  ä¿®æ”¹æ–‡ä»¶: 2
  åˆ é™¤æ–‡ä»¶: 0
  æœªè·Ÿè¸ªæ–‡ä»¶: 1

å»ºè®®çš„æäº¤ç±»å‹: feat

å³å°†æäº¤ 3 ä¸ªæ–‡ä»¶ã€‚

è¯·è¾“å…¥æäº¤ä¿¡æ¯ï¼ˆä¸åŒ…æ‹¬ç±»å‹å‰ç¼€ï¼Œå°†è‡ªåŠ¨æ·»åŠ  'feat:' å‰ç¼€ï¼‰:
ç¤ºä¾‹: 'æ·»åŠ æ™ºèƒ½æäº¤ skill' å°†å˜æˆ 'feat: æ·»åŠ æ™ºèƒ½æäº¤ skill'

æˆ–è€…ç›´æ¥æŒ‰ Enter ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„æäº¤ä¿¡æ¯ã€‚
```

### 5. æ‰§è¡Œæäº¤

ç”¨æˆ·è¾“å…¥æäº¤ä¿¡æ¯åï¼Œæ‰§è¡Œæäº¤ï¼š

```
âœ… æäº¤æˆåŠŸï¼

commit a1b2c3d4e5f6g7h8i9j0 (HEAD -> main)
Author: Your Name <your.email@example.com>
Date:   Mon Jan 27 08:45:32 2026 +0800

    feat: æ·»åŠ æ™ºèƒ½æäº¤ skill

    ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

    Co-Authored-By: Claude <noreply@anthropic.com>

 .claude/skills/check-logging/README.md | 10 ++--
 .claude/skills/check-logging/skill.md  | 15 +++---
 .claude/skills/smart-commit/skill.md   | 450 +++++++++++++++++++++++++
 3 files changed, 465 insertions(+), 10 deletions(-)
```

## æ™ºèƒ½è¯†åˆ«é€»è¾‘

### æ–‡ä»¶åˆ†ç±»æ ‡å‡†

Skill ä½¿ç”¨ä»¥ä¸‹é€»è¾‘åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å±äºæœ¬æ¬¡å¯¹è¯ï¼š

#### âœ… åŒ…å«çš„æ–‡ä»¶

1. **æ—¶é—´åŒ¹é…** - æ–‡ä»¶ä¿®æ”¹æ—¶é—´åœ¨ä¼šè¯æ—¶é—´çª—å£å†…
2. **æ–°å»ºæ–‡ä»¶** - æœªè¢« Git è·Ÿè¸ªçš„æ–°æ–‡ä»¶ï¼ˆ`??` çŠ¶æ€ï¼‰
3. **ç‰¹å®šç›®å½•** - `.claude/skills/` ç­‰å¯¹è¯ç›¸å…³ç›®å½•çš„æ–‡ä»¶

#### â›” æ’é™¤çš„æ–‡ä»¶

1. **æ—¶é—´ä¸åŒ¹é…** - ä¿®æ”¹æ—¶é—´æ—©äºä¼šè¯å¼€å§‹æ—¶é—´
2. **ç‰¹æ®Šç›®å½•** - `.git/`, `node_modules/` ç­‰
3. **è‡ªåŠ¨ç”Ÿæˆ** - ç¼–è¯‘äº§ç‰©ã€ç¼“å­˜æ–‡ä»¶ç­‰

### æ—¶é—´çª—å£è°ƒæ•´

é»˜è®¤ä¼šè¯æ—¶é•¿ä¸º **30 åˆ†é’Ÿ**ã€‚å¦‚æœéœ€è¦è°ƒæ•´ï¼š

```bash
# ä¼šè¯å¼€å§‹äº 60 åˆ†é’Ÿå‰
SESSION_DURATION_MINUTES=60
```

æˆ–è€…åœ¨ skill æ‰§è¡Œæ—¶ï¼ŒClaude ä¼šè¯¢é—®ä½ ä¼šè¯çš„å¤§è‡´å¼€å§‹æ—¶é—´ã€‚

## å®‰å…¨æ£€æŸ¥

åœ¨æäº¤å‰ï¼ŒSkill ä¼šè‡ªåŠ¨è¿›è¡Œä»¥ä¸‹å®‰å…¨æ£€æŸ¥ï¼š

### 1. æ•æ„Ÿæ–‡ä»¶æ£€æŸ¥ ğŸ”’

æ£€æµ‹å¯èƒ½åŒ…å«æ•æ„Ÿä¿¡æ¯çš„æ–‡ä»¶ï¼š

```
âš ï¸  è­¦å‘Š: æ£€æµ‹åˆ°å¯èƒ½åŒ…å«æ•æ„Ÿä¿¡æ¯çš„æ–‡ä»¶
  - .env
  - credentials.json
  - private.key

è¯·ä»”ç»†æ£€æŸ¥åå†æäº¤ï¼
```

**æ•æ„Ÿæ–‡ä»¶æ¨¡å¼ï¼š**
- `.env`
- `.credentials.json`
- `.secret`
- `.key`
- `id_rsa`
- `.pem`

### 2. å¤§æ–‡ä»¶æ£€æŸ¥ ğŸ“¦

æ£€æµ‹è¶…è¿‡ 10MB çš„å¤§æ–‡ä»¶ï¼š

```
âš ï¸  è­¦å‘Š: data/model.pkl å¤§å°ä¸º 25MBï¼Œè¶…è¿‡ 10MB
å»ºè®®ä½¿ç”¨ Git LFS ç®¡ç†å¤§æ–‡ä»¶
```

### 3. å†²çªæ ‡è®°æ£€æŸ¥ âš ï¸

æ£€æµ‹æœªè§£å†³çš„åˆå¹¶å†²çªï¼š

```
âŒ é”™è¯¯: core/src/utils/helper.py åŒ…å«æœªè§£å†³çš„åˆå¹¶å†²çª
è¯·å…ˆè§£å†³å†²çªå†æäº¤
```

## æäº¤ä¿¡æ¯è§„èŒƒ

Skill éµå¾ªé¡¹ç›®çš„æäº¤ä¿¡æ¯è§„èŒƒï¼Œè‡ªåŠ¨ç”Ÿæˆç¬¦åˆ [Conventional Commits](https://www.conventionalcommits.org/) çš„æäº¤ä¿¡æ¯ï¼š

```
<type>: <subject>

<body (optional)>

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>
```

### æäº¤ç±»å‹è‡ªåŠ¨åˆ¤æ–­

æ ¹æ®æ–‡ä»¶å˜æ›´ç±»å‹è‡ªåŠ¨é€‰æ‹©ï¼š

| å˜æ›´ç±»å‹ | æäº¤ç±»å‹ | è¯´æ˜ |
|---------|---------|------|
| åªæ–°å¢æ–‡ä»¶ | `feat` | æ–°åŠŸèƒ½ |
| åªä¿®æ”¹æ–‡ä»¶ | `refactor` | é‡æ„ |
| æœ‰åˆ é™¤æ–‡ä»¶ | `refactor` | é‡æ„ |
| ä¿®æ”¹æµ‹è¯•æ–‡ä»¶ | `test` | æµ‹è¯• |
| ä¿®æ”¹æ–‡æ¡£ | `docs` | æ–‡æ¡£ |
| æ··åˆå˜æ›´ | `chore` | æ‚é¡¹ |

ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‡å®šæäº¤ç±»å‹ã€‚

## ä½¿ç”¨åœºæ™¯ç¤ºä¾‹

### åœºæ™¯ 1ï¼šåœ¨ feature åˆ†æ”¯å¼€å‘æ–°åŠŸèƒ½

```bash
# åˆ›å»º feature åˆ†æ”¯
git checkout -b feature/smart-commit

# ä½¿ç”¨ Claude Code å¼€å‘åŠŸèƒ½
# ... å¯¹è¯è¿‡ç¨‹ä¸­ä¿®æ”¹äº†å¤šä¸ªæ–‡ä»¶ ...

# ä½¿ç”¨ smart-commit æäº¤å¯¹è¯ä¸­çš„æ”¹åŠ¨
/skill smart-commit

# ç»“æœï¼šåªæäº¤æœ¬æ¬¡å¯¹è¯ç›¸å…³çš„æ–‡ä»¶ï¼Œä¸åŒ…æ‹¬å…¶ä»–æœªå®Œæˆçš„æ”¹åŠ¨
```

### åœºæ™¯ 2ï¼šä¿®å¤ bug åæäº¤

```bash
# ä½¿ç”¨ Claude Code ä¿®å¤ bug
# ... å¯¹è¯è¿‡ç¨‹ä¸­ä¿®æ”¹äº†å‡ ä¸ªæ–‡ä»¶ ...

# å·¥ä½œç›®å½•è¿˜æœ‰å…¶ä»–æœªå®Œæˆçš„æ”¹ï¿½ï¿½ï¿½
git status
# M core/src/bug_fix.py          <- æœ¬æ¬¡å¯¹è¯ä¿®æ”¹
# M core/src/unfinished.py       <- å…¶ä»–æœªå®Œæˆçš„å·¥ä½œ
# M frontend/src/component.tsx   <- å…¶ä»–äººçš„æ”¹åŠ¨

# ä½¿ç”¨ smart-commit åªæäº¤ bug ä¿®å¤
/skill smart-commit

# ç»“æœï¼šåªæäº¤ bug_fix.pyï¼Œå…¶ä»–æ–‡ä»¶ä¿æŒæœªæäº¤çŠ¶æ€
```

### åœºæ™¯ 3ï¼šé‡æ„ä»£ç ååˆ†æ‰¹æäº¤

```bash
# ç¬¬ä¸€è½®å¯¹è¯ï¼šé‡æ„æ¨¡å— A
# ... Claude å¸®ä½ é‡æ„äº† moduleA.py ...
/skill smart-commit
# æäº¤: "refactor: é‡æ„æ¨¡å— A çš„æ•°æ®å¤„ç†é€»è¾‘"

# ç¬¬äºŒè½®å¯¹è¯ï¼šé‡æ„æ¨¡å— B
# ... Claude å¸®ä½ é‡æ„äº† moduleB.py ...
/skill smart-commit
# æäº¤: "refactor: é‡æ„æ¨¡å— B çš„ API è°ƒç”¨"

# ç»“æœï¼šæ¸…æ™°çš„æäº¤å†å²ï¼Œæ¯æ¬¡æäº¤éƒ½æ˜¯ç‹¬ç«‹çš„æ”¹åŠ¨
```

## ä¸ä¼ ç»Ÿ Git å‘½ä»¤çš„å¯¹æ¯”

### ä¼ ç»Ÿæ–¹å¼

```bash
# æŸ¥çœ‹çŠ¶æ€
git status
# ... æ˜¾ç¤º 15 ä¸ªä¿®æ”¹çš„æ–‡ä»¶ ...

# éœ€è¦æ‰‹åŠ¨é€‰æ‹©æ–‡ä»¶
git add file1.py
git add file2.py
git add file3.py
# ... å®¹æ˜“é—æ¼æˆ–è¯¯æ·»åŠ  ...

# æ‰‹åŠ¨ç¼–å†™æäº¤ä¿¡æ¯
git commit -m "update files"
# ... æäº¤ä¿¡æ¯ä¸è§„èŒƒ ...
```

**é—®é¢˜ï¼š**
- âŒ éœ€è¦æ‰‹åŠ¨è¯†åˆ«æ¯ä¸ªæ–‡ä»¶
- âŒ å®¹æ˜“è¯¯æäº¤ä¸ç›¸å…³çš„æ–‡ä»¶
- âŒ æäº¤ä¿¡æ¯ä¸è§„èŒƒ
- âŒ è´¹æ—¶è´¹åŠ›

### Smart Commit æ–¹å¼

```bash
# ä¸€æ¡å‘½ä»¤å®Œæˆ
/skill smart-commit

# è‡ªåŠ¨åˆ†æã€åˆ†ç±»ã€å±•ç¤ºã€ç¡®è®¤ã€æäº¤
# ... å…¨è‡ªåŠ¨æµç¨‹ ...
```

**ä¼˜åŠ¿ï¼š**
- âœ… è‡ªåŠ¨è¯†åˆ«å¯¹è¯ç›¸å…³çš„æ–‡ä»¶
- âœ… é¿å…è¯¯æäº¤
- âœ… è§„èŒƒçš„æäº¤ä¿¡æ¯
- âœ… å¿«é€Ÿä¾¿æ·

## é«˜çº§ç”¨æ³•

### 1. æ‰‹åŠ¨è°ƒæ•´æ–‡ä»¶åˆ—è¡¨

å¦‚æœè‡ªåŠ¨è¯†åˆ«ä¸å‡†ç¡®ï¼Œå¯ä»¥åœ¨ç¡®è®¤é˜¶æ®µæ‰‹åŠ¨è°ƒæ•´ï¼š

```bash
# æ·»åŠ è¢«é”™è¯¯æ’é™¤çš„æ–‡ä»¶
git add path/to/file.py

# ç§»é™¤è¢«é”™è¯¯åŒ…å«çš„æ–‡ä»¶
git reset HEAD path/to/file.py

# ç„¶åç»§ç»­æäº¤æµç¨‹
```

### 2. è‡ªå®šä¹‰æäº¤ä¿¡æ¯

Skill ä¼šå»ºè®®æäº¤ç±»å‹ï¼Œä½†ä½ å¯ä»¥è‡ªç”±ä¿®æ”¹ï¼š

```
å»ºè®®çš„æäº¤ç±»å‹: refactor

è¯·è¾“å…¥æäº¤ä¿¡æ¯: ä¿®å¤æ—¥å¿—ç³»ç»Ÿçš„å¯¼å…¥é—®é¢˜

# å®é™…æäº¤ä¿¡æ¯å°†æ˜¯:
# refactor: ä¿®å¤æ—¥å¿—ç³»ç»Ÿçš„å¯¼å…¥é—®é¢˜
```

### 3. æŸ¥çœ‹å®Œæ•´ diff

åœ¨æäº¤å‰æƒ³çœ‹å®Œæ•´çš„æ”¹åŠ¨ï¼š

```bash
# Skill ä¼šæ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶çš„ diff
# å¦‚æœéœ€è¦æ›´è¯¦ç»†çš„æŸ¥çœ‹ï¼š
git diff

# æˆ–é’ˆå¯¹ç‰¹å®šæ–‡ä»¶
git diff path/to/file.py
```

### 4. æ’¤é”€æäº¤

å¦‚æœæäº¤åå‘ç°é—®é¢˜ï¼š

```bash
# æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆä¿ç•™æ”¹åŠ¨ï¼‰
git reset HEAD~1

# æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆä¸¢å¼ƒæ”¹åŠ¨ï¼Œæ…ç”¨ï¼ï¼‰
git reset --hard HEAD~1

# ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤ä¿¡æ¯
git commit --amend
```

## æœ€ä½³å®è·µ

### 1. é¢‘ç¹æäº¤

æ¯æ¬¡å¯¹è¯å®Œæˆä¸€ä¸ªå°åŠŸèƒ½åå°±æäº¤ï¼š

```bash
# å¥½ä¹ æƒ¯ âœ…
å¯¹è¯ A -> smart-commit -> å¯¹è¯ B -> smart-commit

# ä¸æ¨è âŒ
å¯¹è¯ A + å¯¹è¯ B + å¯¹è¯ C -> smart-commit
```

### 2. ä½¿ç”¨æè¿°æ€§çš„æäº¤ä¿¡æ¯

```bash
# å¥½çš„æäº¤ä¿¡æ¯ âœ…
feat: æ·»åŠ  Tushare æ•°æ®æºçš„æ—¥çº¿æ•°æ®è·å–åŠŸèƒ½
refactor: ä¼˜åŒ– AkShare Provider çš„é”™è¯¯å¤„ç†é€»è¾‘
fix: ä¿®å¤æ—¥å¿—ç³»ç»Ÿåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„ç«æ€é—®é¢˜

# ä¸å¥½çš„æäº¤ä¿¡æ¯ âŒ
update files
fix bug
changes
```

### 3. åœ¨ç‹¬ç«‹åˆ†æ”¯ä¸Šå·¥ä½œ

```bash
# ä¸ºæ¯ä¸ªåŠŸèƒ½åˆ›å»ºç‹¬ç«‹åˆ†æ”¯
git checkout -b feature/new-feature

# åœ¨åˆ†æ”¯ä¸Šä½¿ç”¨ smart-commit
/skill smart-commit

# å®Œæˆååˆå¹¶
git checkout main
git merge feature/new-feature
```

### 4. æäº¤å‰æ£€æŸ¥

è™½ç„¶ Skill ä¼šè‡ªåŠ¨æ£€æŸ¥ï¼Œä½†å»ºè®®å…»æˆä¹ æƒ¯ï¼š

```bash
# æäº¤å‰è¿è¡Œæµ‹è¯•
pytest

# æäº¤å‰è¿è¡Œä»£ç æ£€æŸ¥
ruff check .

# ç„¶åå†æäº¤
/skill smart-commit
```

## æ•…éšœæ’é™¤

### Q: ä¸ºä»€ä¹ˆæŸä¸ªæ–‡ä»¶è¢«æ’é™¤äº†ï¼Ÿ

**A:** å¯èƒ½çš„åŸå› ï¼š

1. æ–‡ä»¶ä¿®æ”¹æ—¶é—´æ—©äºä¼šè¯å¼€å§‹æ—¶é—´
2. æ–‡ä»¶å±äºè‡ªåŠ¨ç”Ÿæˆçš„ç±»å‹
3. æ—¶é—´çª—å£è®¾ç½®ä¸å‡†ç¡®

**è§£å†³æ–¹æ³•ï¼š**

```bash
# æ–¹æ³• 1: è°ƒæ•´æ—¶é—´çª—å£
SESSION_DURATION_MINUTES=60  # å¢åŠ åˆ° 60 åˆ†é’Ÿ

# æ–¹æ³• 2: æ‰‹åŠ¨æ·»åŠ æ–‡ä»¶
git add path/to/file.py
```

### Q: ä¸ºä»€ä¹ˆæŸä¸ªä¸ç›¸å…³çš„æ–‡ä»¶è¢«åŒ…å«äº†ï¼Ÿ

**A:** å¯èƒ½çš„åŸå› ï¼š

1. æ–‡ä»¶è¢«ç¼–è¾‘å™¨è‡ªåŠ¨ä¿å­˜ï¼Œä¿®æ”¹æ—¶é—´åœ¨çª—å£å†…
2. æ ¼å¼åŒ–å·¥å…·è‡ªåŠ¨ä¿®æ”¹äº†æ–‡ä»¶

**è§£å†³æ–¹æ³•ï¼š**

```bash
# åœ¨ç¡®è®¤é˜¶æ®µï¼Œæ‰‹åŠ¨ç§»é™¤
git reset HEAD path/to/file.py
```

### Q: å¦‚ä½•æŸ¥çœ‹è¢«æ’é™¤çš„æ–‡ä»¶åˆ—è¡¨ï¼Ÿ

**A:** Skill ä¼šåœ¨æ‰§è¡Œæ—¶æ˜¾ç¤ºå®Œæ•´çš„æ’é™¤åˆ—è¡¨ï¼š

```
â¸ï¸  æ’é™¤çš„æ–‡ä»¶ (å…¶ä»–äººä¿®æ”¹æˆ–ä¼šè¯å¤–ä¿®æ”¹ï¼Œå…± 12 ä¸ª):
  âŠ˜  core/src/providers/akshare/provider.py (ä¿®æ”¹äº 01-26 15:30)
  ...
```

### Q: å¯ä»¥ä¸ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„æäº¤ä¿¡æ¯å—?

**A:** å¯ä»¥ã€‚Skill ä¼šè®©ä½ è¾“å…¥æˆ–ä¿®æ”¹æäº¤ä¿¡æ¯ï¼š

```
è¯·è¾“å…¥æäº¤ä¿¡æ¯ï¼ˆä¸åŒ…æ‹¬ç±»å‹å‰ç¼€ï¼‰:
> ä½ çš„è‡ªå®šä¹‰æäº¤ä¿¡æ¯
```

### Q: æäº¤åå‘ç°é”™è¯¯æ€ä¹ˆåŠï¼Ÿ

**A:** ä½¿ç”¨ Git æ ‡å‡†å‘½ä»¤æ’¤é”€ï¼š

```bash
# æ’¤é”€æäº¤ä½†ä¿ç•™æ”¹åŠ¨
git reset HEAD~1

# æˆ–è€…ä¿®æ”¹æäº¤ä¿¡æ¯
git commit --amend
```

### Q: è¿™ä¸ª Skill ä¼šè‡ªåŠ¨ push å—ï¼Ÿ

**A:** ä¸ä¼šã€‚Skill åªæ‰§è¡Œæœ¬åœ° commitï¼Œä¸ä¼šæ¨é€åˆ°è¿œç¨‹ã€‚ä½ éœ€è¦æ‰‹åŠ¨ï¼š

```bash
git push origin <branch-name>
```

## é…ç½®é€‰é¡¹

### ç¯å¢ƒå˜é‡

å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡è‡ªå®šä¹‰è¡Œä¸ºï¼š

```bash
# è®¾ç½®é»˜è®¤ä¼šè¯æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰
export SMART_COMMIT_SESSION_DURATION=45

# è®¾ç½®å¤§æ–‡ä»¶é˜ˆå€¼ï¼ˆå­—èŠ‚ï¼‰
export SMART_COMMIT_MAX_FILE_SIZE=20971520  # 20MB

# ç¦ç”¨æ•æ„Ÿæ–‡ä»¶æ£€æŸ¥ï¼ˆä¸æ¨èï¼‰
export SMART_COMMIT_SKIP_SENSITIVE_CHECK=true
```

### Git é…ç½®

æ·»åŠ åˆ° `.gitconfig` ä»¥ä¾¿å…¨å±€ä½¿ç”¨ï¼š

```ini
[alias]
    sc = !claude-code skill smart-commit
    smart = !claude-code skill smart-commit

[commit]
    # ä½¿ç”¨ Skill ç”Ÿæˆçš„æ¨¡æ¿
    template = ~/.git-commit-template
```

## ä¸å…¶ä»–å·¥å…·é›†æˆ

### ä¸ Pre-commit Hooks é›†æˆ

```yaml
# .pre-commit-config.yaml
repos:
  - repo: local
    hooks:
      - id: smart-commit-check
        name: Smart Commit Safety Checks
        entry: .claude/skills/smart-commit/pre-commit-check.sh
        language: system
        pass_filenames: false
```

### ä¸ IDE é›†æˆ

#### VS Code

åœ¨ `.vscode/tasks.json` ä¸­æ·»åŠ ï¼š

```json
{
  "label": "Smart Commit",
  "type": "shell",
  "command": "claude-code skill smart-commit",
  "problemMatcher": [],
  "group": {
    "kind": "build",
    "isDefault": false
  }
}
```

#### JetBrains IDEs

åœ¨ External Tools ä¸­æ·»åŠ ï¼š

```
Name: Smart Commit
Program: claude-code
Arguments: skill smart-commit
Working directory: $ProjectFileDir$
```

## ç›¸å…³æ–‡æ¡£

- [Git æäº¤è§„èŒƒ](../../../docs/git-workflow.md) - é¡¹ç›®çš„ Git å·¥ä½œæµç¨‹
- [Conventional Commits](https://www.conventionalcommits.org/) - æäº¤ä¿¡æ¯è§„èŒƒ
- [Pro Git Book](https://git-scm.com/book/en/v2) - Git æƒå¨æŒ‡å—
- [ä»£ç å®¡æŸ¥ Skill](../code-review/skill.md) - ä»£ç å®¡æŸ¥å·¥å…·

## è´¡çŒ®

å¦‚æœä½ æœ‰æ”¹è¿›å»ºè®®æˆ–å‘ç°é—®é¢˜ï¼š

1. åœ¨é¡¹ç›®ä¸­æ Issue
2. æäº¤ PR æ”¹è¿› Skill
3. æ›´æ–°æ–‡æ¡£è¡¥å……ä½¿ç”¨æ¡ˆä¾‹

## License

MIT License - éšé¡¹ç›®ä¸€èµ·å‘å¸ƒ
