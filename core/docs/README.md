# Stock-Analysis Core ç³»ç»ŸæŒ‡å—

**æ–‡æ¡£ç‰ˆæœ¬**: v6.0.0
**æœ€åæ›´æ–°**: 2026-02-09
**é¡¹ç›®çŠ¶æ€**: ğŸš€ ç­–ç•¥ç³»ç»Ÿé‡æ„å®Œæˆ (Phase 1-4) + å®Œæ•´æ–‡æ¡£ä½“ç³»

---

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#-é¡¹ç›®æ¦‚è¿°)
- [æ–°ç‰¹æ€§ v6.0](#-æ–°ç‰¹æ€§-v60)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [æ ¸å¿ƒæ¶æ„](#-æ ¸å¿ƒæ¶æ„)
- [ç­–ç•¥ç³»ç»Ÿ](#-ç­–ç•¥ç³»ç»Ÿ)
- [ä½¿ç”¨ç¤ºä¾‹](#-ä½¿ç”¨ç¤ºä¾‹)
- [æ–‡æ¡£å¯¼èˆª](#-æ–‡æ¡£å¯¼èˆª)
- [æ€§èƒ½æŒ‡æ ‡](#-æ€§èƒ½æŒ‡æ ‡)

---

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

**Stock-Analysis Core** æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ A è‚¡é‡åŒ–äº¤æ˜“ç³»ç»Ÿæ ¸å¿ƒå¼•æ“ï¼Œæä¾›ä»æ•°æ®å¤„ç†ã€å› å­è®¡ç®—ã€ç­–ç•¥æ‰§è¡Œåˆ°å›æµ‹åˆ†æçš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚

### æ ¸å¿ƒèƒ½åŠ›

- âœ… **å› å­è®¡ç®—**: 125+ Alpha å› å­ + 60+ æŠ€æœ¯æŒ‡æ ‡
- âœ… **ML è¯„åˆ†å·¥å…·**: MLStockRankerï¼ˆç±»ä¼¼ BigQuant StockRankerï¼‰
- âœ… **ç­–ç•¥ç³»ç»Ÿ**: ä¸‰ç§ç­–ç•¥ç±»å‹ï¼ˆé¢„å®šä¹‰/é…ç½®é©±åŠ¨/åŠ¨æ€ä»£ç ï¼‰
- âœ… **åŠ¨æ€åŠ è½½**: å®‰å…¨çš„ä»£ç åŠ¨æ€ç¼–è¯‘ä¸æ‰§è¡Œ
- âœ… **å›æµ‹å¼•æ“**: æ”¯æŒå¤šç©ºäº¤æ˜“
- âœ… **é£é™©æ§åˆ¶**: ç»Ÿä¸€é£æ§å±‚ + å¤šå±‚å®‰å…¨é˜²æŠ¤
- âœ… **æ€§èƒ½åˆ†æ**: å®Œæ•´çš„ç»©æ•ˆæŒ‡æ ‡ + æ€§èƒ½ç›‘æ§

### è®¾è®¡åŸåˆ™

1. **å®‰å…¨ç¬¬ä¸€**: å¤šå±‚å®‰å…¨é˜²æŠ¤ï¼Œé›¶ä¿¡ä»»åŸåˆ™ï¼Œå®Œæ•´å®¡è®¡
2. **èŒè´£æ¸…æ™°**: æ¯ä¸ªç»„ä»¶èŒè´£å•ä¸€ï¼Œè¾¹ç•Œæ˜ç¡®
3. **é«˜åº¦è§£è€¦**: ç»„ä»¶ä¹‹é—´ä½è€¦åˆï¼Œå¯ç‹¬ç«‹æµ‹è¯•å’Œæ›¿æ¢
4. **çµæ´»ç»„åˆ**: æ”¯æŒç­–ç•¥è‡ªç”±ç»„åˆå’ŒåŠ¨æ€åŠ è½½
5. **æ€§èƒ½ä¼˜å…ˆ**: å¤šçº§ç¼“å­˜ã€æ‡’åŠ è½½ã€å¹¶è¡Œå¤„ç†ã€JITç¼–è¯‘
6. **ç±»å‹å®‰å…¨**: å®Œæ•´çš„ç±»å‹æç¤ºï¼Œé™æ€ç±»å‹æ£€æŸ¥

---

## ğŸ‰ æ–°ç‰¹æ€§ v6.0

### ç­–ç•¥ç³»ç»Ÿé‡æ„ (Phase 1-4 å·²å®Œæˆ)

v6.0 ç‰ˆæœ¬å®Œæˆäº†æ ¸å¿ƒç­–ç•¥ç³»ç»Ÿçš„å…¨é¢é‡æ„ï¼Œç°åœ¨æ”¯æŒä¸‰ç§ç­–ç•¥ç®¡ç†æ–¹å¼ï¼š

#### 1. é¢„å®šä¹‰ç­–ç•¥ (Predefined Strategies)
ä¼ ç»Ÿçš„ç¡¬ç¼–ç ç­–ç•¥ï¼Œæ€§èƒ½æœ€ä¼˜ï¼Œé€‚åˆæ ‡å‡†ç­–ç•¥ï¼š
```python
from core.strategies import StrategyFactory

factory = StrategyFactory()
strategy = factory.create('momentum', {
    'lookback_period': 20,
    'threshold': 0.10
})
```

#### 2. é…ç½®é©±åŠ¨ç­–ç•¥ (Configured Strategies)
ä»æ•°æ®åº“åŠ è½½å‚æ•°é…ç½®ï¼Œé€‚åˆç­–ç•¥å‚æ•°è°ƒä¼˜ï¼š
```python
# Backend ä¿å­˜é…ç½®åˆ°æ•°æ®åº“
strategy = factory.create_from_config(config_id=123)
```

#### 3. åŠ¨æ€ä»£ç ç­–ç•¥ (Dynamic Strategies)
åŠ¨æ€åŠ è½½å¹¶ç¼–è¯‘æ‰§è¡Œ Python ä»£ç ï¼Œé€‚åˆåˆ›æ–°ç­–ç•¥å’Œè‡ªå®šä¹‰é€»è¾‘ï¼š
```python
# Backend æäº¤ä»£ç åˆ°æ•°æ®åº“ï¼ˆå¯èƒ½æ¥è‡ª AIã€äººå·¥ç¼–å†™æˆ–å…¶ä»–æ¥æºï¼‰
strategy = factory.create_from_code(strategy_id=456)
```

### æ ¸å¿ƒæ”¹è¿›

#### å®‰å…¨åŸºç¡€è®¾æ–½ âœ…
- **CodeSanitizer**: AST è¯­æ³•æ ‘åˆ†æï¼Œå±é™©ä»£ç æ£€æµ‹
- **PermissionChecker**: æ–‡ä»¶ç³»ç»Ÿ/ç½‘ç»œ/ç³»ç»Ÿå‘½ä»¤è®¿é—®æ§åˆ¶
- **ResourceLimiter**: CPU/å†…å­˜/æ—¶é—´èµ„æºé™åˆ¶
- **AuditLogger**: å®Œæ•´çš„ç­–ç•¥åŠ è½½å’Œæ‰§è¡Œå®¡è®¡æ—¥å¿—
- **æµ‹è¯•è¦†ç›–ç‡**: 87% (86ä¸ªæµ‹è¯•é€šè¿‡)

#### ç­–ç•¥åŠ è½½å™¨ âœ…
- **ConfigLoader**: å‚æ•°é…ç½®åŠ è½½å™¨
- **DynamicCodeLoader**: åŠ¨æ€ä»£ç åŠ è½½å™¨ï¼ˆPython ä»£ç å®‰å…¨éªŒè¯ä¸æ‰§è¡Œï¼‰
- **LoaderFactory**: ç»Ÿä¸€åŠ è½½æ¥å£
- **å¤šçº§ç¼“å­˜**: å†…å­˜ + Redis ç¼“å­˜æ”¯æŒ
- **æµ‹è¯•è¦†ç›–ç‡**: 50% (52ä¸ªæµ‹è¯•é€šè¿‡)

#### å·¥å‚ä¸åŸºç±» âœ…
- **StrategyFactory**: ç»Ÿä¸€çš„ç­–ç•¥åˆ›å»ºæ¥å£
- **BaseStrategy**: å¢å¼ºçš„å…ƒä¿¡æ¯æ”¯æŒ
- **ç›®å½•é‡ç»„**: predefined/ æ¨¡å—åŒ–ç»“æ„
- **æµ‹è¯•è¦†ç›–ç‡**: 100% (236ä¸ªæµ‹è¯•é€šè¿‡)

#### æ€§èƒ½ä¼˜åŒ– âœ…
- **PerformanceMonitor**: å®æ—¶æ€§èƒ½è¿½è¸ª
- **MetricsCollector**: æŒ‡æ ‡æ”¶é›†ç³»ç»Ÿ
- **Redisç¼“å­˜**: 500x æ€§èƒ½æå‡ï¼ˆç¼“å­˜å‘½ä¸­ï¼‰
- **æ‰¹é‡åŠ è½½**: 25x æ€§èƒ½æå‡
- **æ‡’åŠ è½½**: 20x å¯åŠ¨æ—¶é—´æå‡
- **å†…å­˜ä¼˜åŒ–**: 4x å†…å­˜ä½¿ç”¨ä¼˜åŒ–

### æ¶æ„æ¼”è¿›

```
v5.x (æ—§æ¶æ„)                    v6.0 (æ–°æ¶æ„)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Strategy   â”‚                 â”‚  StrategyFactory     â”‚
â”‚  Factory    â”‚                 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚ Predefined     â”‚  â”‚
                                â”‚  â”‚ ConfigLoader   â”‚  â”‚
                                â”‚  â”‚ DynamicLoader  â”‚  â”‚
                                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â†“
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚  Security Layer      â”‚
                                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                                â”‚  â”‚ CodeSanitizer  â”‚  â”‚
                                â”‚  â”‚ PermissionChk  â”‚  â”‚
                                â”‚  â”‚ ResourceLimit  â”‚  â”‚
                                â”‚  â”‚ AuditLogger    â”‚  â”‚
                                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â†“
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚  Performance Layer   â”‚
                                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                                â”‚  â”‚ Redis Cache    â”‚  â”‚
                                â”‚  â”‚ Lazy Loading   â”‚  â”‚
                                â”‚  â”‚ Monitoring     â”‚  â”‚
                                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-org/stock-analysis.git
cd stock-analysis/core

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯é€‰ï¼šå¯åŠ¨ Redisï¼ˆç”¨äºæ€§èƒ½ä¼˜åŒ–ï¼‰
docker-compose up -d redis
```

### ç¤ºä¾‹ 1: é¢„å®šä¹‰ç­–ç•¥å›æµ‹

ä½¿ç”¨ä¼ ç»Ÿçš„é¢„å®šä¹‰ç­–ç•¥ï¼ˆæœ€ä½³æ€§èƒ½ï¼‰ï¼š

```python
from core.strategies import StrategyFactory
from core.backtest import BacktestEngine
from core.data import load_market_data

# å‡†å¤‡æ•°æ®
stock_pool = ['600000.SH', '000001.SZ', '600036.SH']
market_data = load_market_data(
    stock_codes=stock_pool,
    start_date='2023-01-01',
    end_date='2024-12-31'
)

# åˆ›å»ºé¢„å®šä¹‰ç­–ç•¥
factory = StrategyFactory()
strategy = factory.create('momentum', {
    'lookback_period': 20,
    'threshold': 0.10,
    'top_n': 20
})

# è¿è¡Œå›æµ‹
engine = BacktestEngine()
result = engine.run(
    strategy=strategy,
    stock_pool=stock_pool,
    market_data=market_data,
    start_date='2024-01-01',
    end_date='2024-12-31'
)

# åˆ†æç»“æœ
print(f"æ€»æ”¶ç›Šç‡: {result.total_return:.2%}")
print(f"å¤æ™®æ¯”ç‡: {result.sharpe_ratio:.2f}")
print(f"æœ€å¤§å›æ’¤: {result.max_drawdown:.2%}")
```

### ç¤ºä¾‹ 2: é…ç½®é©±åŠ¨ç­–ç•¥

ä»æ•°æ®åº“åŠ è½½å‚æ•°é…ç½®ï¼ˆé€‚åˆå‚æ•°è°ƒä¼˜ï¼‰ï¼š

```python
from core.strategies import StrategyFactory

factory = StrategyFactory()

# ä»æ•°æ®åº“é…ç½®åˆ›å»ºç­–ç•¥ï¼ˆBackend å·²ä¿å­˜é…ç½®ï¼‰
strategy = factory.create_from_config(config_id=123)

# æŸ¥çœ‹ç­–ç•¥å…ƒä¿¡æ¯
metadata = strategy.get_metadata()
print(f"ç­–ç•¥ç±»å‹: {metadata['strategy_type']}")
print(f"é…ç½®ç‰ˆæœ¬: {metadata['config_version']}")
print(f"é£é™©ç­‰çº§: {metadata['risk_level']}")

# è¿è¡Œå›æµ‹
result = engine.run(strategy=strategy, ...)
```

### ç¤ºä¾‹ 3: åŠ¨æ€ä»£ç ç­–ç•¥

ä½¿ç”¨åŠ¨æ€åŠ è½½çš„ Python ä»£ç ï¼ˆåˆ›æ–°ç­–ç•¥å’Œè‡ªå®šä¹‰é€»è¾‘ï¼‰ï¼š

```python
from core.strategies import StrategyFactory

factory = StrategyFactory()

# ä»åŠ¨æ€ä»£ç åˆ›å»ºç­–ç•¥ï¼ˆBackend æäº¤ Python ä»£ç åˆ°æ•°æ®åº“ï¼‰
# Core è‡ªåŠ¨è¿›è¡Œå¤šå±‚å®‰å…¨éªŒè¯ï¼Œä¸å…³å¿ƒä»£ç æ¥æº
strategy = factory.create_from_code(
    strategy_id=456,
    strict_mode=True  # ä¸¥æ ¼æ¨¡å¼ï¼šä»»ä½•å®‰å…¨é—®é¢˜éƒ½æ‹’ç»åŠ è½½
)

# æŸ¥çœ‹å®‰å…¨å®¡è®¡ä¿¡æ¯
metadata = strategy.get_metadata()
print(f"ä»£ç å“ˆå¸Œ: {metadata['code_hash']}")
print(f"é£é™©ç­‰çº§: {metadata['risk_level']}")  # safe/low/medium/high

# è¿è¡Œå›æµ‹
result = engine.run(strategy=strategy, ...)
```

### ç¤ºä¾‹ 4: æ‰¹é‡åŠ è½½ç­–ç•¥ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰

```python
from core.strategies.loaders import LoaderFactory

loader = LoaderFactory.get_instance()

# æ‰¹é‡åŠ è½½é…ç½®ç­–ç•¥ï¼ˆ25x æ€§èƒ½æå‡ï¼‰
strategies = loader.batch_load(
    source='config',
    strategy_ids=[101, 102, 103, 104, 105]
)

# æ‰¹é‡å›æµ‹
for strategy in strategies:
    result = engine.run(strategy=strategy, ...)
```

---

## ğŸ—ï¸ æ ¸å¿ƒæ¶æ„

### æ¶æ„æ€»è§ˆ v6.0

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Stock-Analysis Core v6.0 æ ¸å¿ƒå¼•æ“             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   1. ç­–ç•¥å·¥å‚å±‚ (Strategy Factory)           â”‚
    â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚      â”‚  StrategyFactory                 â”‚   â”‚
    â”‚      â”‚   - create()         é¢„å®šä¹‰ç­–ç•¥  â”‚   â”‚
    â”‚      â”‚   - create_from_config()  é…ç½®   â”‚   â”‚
    â”‚      â”‚   - create_from_code()   AIä»£ç   â”‚   â”‚
    â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   2. åŠ è½½å™¨å±‚ (Loader Layer)                 â”‚
    â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚      â”‚  ConfigLoader  å‚æ•°é…ç½®åŠ è½½å™¨     â”‚   â”‚
    â”‚      â”‚  DynamicCodeLoader  åŠ¨æ€ä»£ç åŠ è½½ â”‚   â”‚
    â”‚      â”‚  LoaderFactory  ç»Ÿä¸€æ¥å£         â”‚   â”‚
    â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   3. å®‰å…¨å±‚ (Security Layer) â­æ–°å¢          â”‚
    â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚      â”‚  CodeSanitizer  ASTä»£ç åˆ†æ      â”‚   â”‚
    â”‚      â”‚  PermissionChecker  æƒé™æ£€æŸ¥     â”‚   â”‚
    â”‚      â”‚  ResourceLimiter  èµ„æºé™åˆ¶       â”‚   â”‚
    â”‚      â”‚  AuditLogger  å®¡è®¡æ—¥å¿—           â”‚   â”‚
    â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   4. ç­–ç•¥æ‰§è¡Œå±‚ (Strategy Execution)         â”‚
    â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚      â”‚  BaseStrategy  ç­–ç•¥åŸºç±»          â”‚   â”‚
    â”‚      â”‚  SignalGenerator  ä¿¡å·ç”Ÿæˆ       â”‚   â”‚
    â”‚      â”‚  PositionSizer  ä»“ä½ç®¡ç†         â”‚   â”‚
    â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   5. é£æ§å±‚ (Risk Management)                â”‚
    â”‚      - æ­¢æŸç®¡ç†                              â”‚
    â”‚      - é£é™©æ§åˆ¶                              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   6. å›æµ‹å¼•æ“ (Backtest Engine)              â”‚
    â”‚      - åè°ƒæ‰§è¡Œ                              â”‚
    â”‚      - äº¤æ˜“æ¨¡æ‹Ÿ                              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   7. æ€§èƒ½ä¼˜åŒ–å±‚ (Performance Layer) â­æ–°å¢   â”‚
    â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚      â”‚  Redis Cache  å¤šçº§ç¼“å­˜           â”‚   â”‚
    â”‚      â”‚  LazyStrategy  æ‡’åŠ è½½            â”‚   â”‚
    â”‚      â”‚  QueryOptimizer  æ‰¹é‡æŸ¥è¯¢        â”‚   â”‚
    â”‚      â”‚  PerformanceMonitor  æ€§èƒ½ç›‘æ§    â”‚   â”‚
    â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è¯¦ç»†æ¶æ„è¯´æ˜è¯·å‚è€ƒ [æ¶æ„æ€»è§ˆ](./architecture/overview.md)ã€‚

### æ ¸å¿ƒç»„ä»¶

| ç»„ä»¶ | èŒè´£ | æ–‡æ¡£é“¾æ¥ |
|------|------|---------|
| **ç­–ç•¥å·¥å‚** â­ | ç»Ÿä¸€ç­–ç•¥åˆ›å»ºæ¥å£ | [ç­–ç•¥ç³»ç»Ÿ](#-ç­–ç•¥ç³»ç»Ÿ) |
| **å®‰å…¨å±‚** â­ | å¤šå±‚å®‰å…¨é˜²æŠ¤ã€åŠ¨æ€ä»£ç å®¡è®¡ | [å®‰å…¨æ–‡æ¡£](./planning/core_strategy_system_refactoring.md#å®‰å…¨é˜²èŒƒæªæ–½) |
| **åŠ è½½å™¨å±‚** â­ | é…ç½®åŠ è½½ã€Python ä»£ç åŠ¨æ€åŠ è½½ | [åŠ è½½å™¨æ–‡æ¡£](./planning/core_strategy_system_refactoring.md#æ–°å¢æ¨¡å—è¯¦è§£) |
| **æ€§èƒ½ä¼˜åŒ–** â­ | ç¼“å­˜ã€æ‡’åŠ è½½ã€ç›‘æ§ | [æ€§èƒ½æ–‡æ¡£](./planning/core_strategy_system_refactoring.md#æ€§èƒ½ä¼˜åŒ–) |
| **é£æ§å±‚** | æ­¢æŸå’Œé£é™©æ§åˆ¶ | [é£æ§æ–‡æ¡£](./risk/README.md) |
| **å›æµ‹å¼•æ“** | åè°ƒæ‰§è¡Œå’Œäº¤æ˜“æ¨¡æ‹Ÿ | [å›æµ‹æ–‡æ¡£](./backtest/README.md) |
| **ç‰¹å¾å·¥ç¨‹** | å› å­è®¡ç®—å’Œç‰¹å¾ç”Ÿæˆ | [ç‰¹å¾æ–‡æ¡£](./features/README.md) |
| **æœºå™¨å­¦ä¹ ** | ML æ¨¡å‹è®­ç»ƒå’Œé¢„æµ‹ | [ML æ–‡æ¡£](./ml/README.md) |

â­ = v6.0 æ–°å¢æˆ–é‡æ„ç»„ä»¶

---

## ğŸ¯ ç­–ç•¥ç³»ç»Ÿ

### ä¸‰ç§ç­–ç•¥ç±»å‹

v6.0 ç­–ç•¥ç³»ç»Ÿæ”¯æŒä¸‰ç§ç­–ç•¥ç®¡ç†æ–¹å¼ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚ï¼š

#### 1. é¢„å®šä¹‰ç­–ç•¥ (Predefined Strategies)

**ç‰¹ç‚¹**:
- âœ… æœ€ä½³æ€§èƒ½ï¼ˆæ— åŠ¨æ€åŠ è½½å¼€é”€ï¼‰
- âœ… å®Œå…¨é™æ€ç±»å‹æ£€æŸ¥
- âœ… æœ€é«˜å®‰å…¨æ€§
- âœ… é€‚åˆæ ‡å‡†åŒ–ç­–ç•¥

**ä½¿ç”¨åœºæ™¯**: åŠ¨é‡ç­–ç•¥ã€å‡å€¼å›å½’ã€å¤šå› å­ç­‰ç»å…¸ç­–ç•¥

**ç¤ºä¾‹**:
```python
# å¯ç”¨çš„é¢„å®šä¹‰ç­–ç•¥
factory.create('momentum', config)         # åŠ¨é‡ç­–ç•¥
factory.create('mean_reversion', config)   # å‡å€¼å›å½’
factory.create('multi_factor', config)     # å¤šå› å­ç­–ç•¥
```

**ç›®å½•ç»“æ„**:
```
core/src/strategies/predefined/
â”œâ”€â”€ momentum_strategy.py
â”œâ”€â”€ mean_reversion_strategy.py
â””â”€â”€ multi_factor_strategy.py
```

#### 2. é…ç½®é©±åŠ¨ç­–ç•¥ (Configured Strategies)

**ç‰¹ç‚¹**:
- âœ… å‚æ•°çµæ´»è°ƒæ•´ï¼ˆæ— éœ€ä¿®æ”¹ä»£ç ï¼‰
- âœ… æ”¯æŒç‰ˆæœ¬ç®¡ç†
- âœ… ä»æ•°æ®åº“åŠ è½½é…ç½®
- âœ… é€‚åˆå‚æ•°ä¼˜åŒ–å’Œç­–ç•¥è°ƒä¼˜

**ä½¿ç”¨åœºæ™¯**: ç­–ç•¥å‚æ•°ç½‘æ ¼æœç´¢ã€åœ¨çº¿å‚æ•°è°ƒæ•´

**æ•°æ®æµç¨‹**:
```
Backend API
    â†“ åˆ›å»ºé…ç½®
strategy_configs è¡¨
    {
        strategy_type: 'momentum',
        config: {lookback: 20, threshold: 0.1}
    }
    â†“ Core åŠ è½½
factory.create_from_config(config_id=123)
    â†“
å®ä¾‹åŒ–é¢„å®šä¹‰ç­–ç•¥ç±» + æ³¨å…¥é…ç½®
```

#### 3. åŠ¨æ€ä»£ç ç­–ç•¥ (Dynamic Strategies)

**ç‰¹ç‚¹**:
- âœ… åŠ¨æ€åŠ è½½ Python ä»£ç 
- âœ… åŠ¨æ€ç¼–è¯‘å’Œæ‰§è¡Œ
- âœ… å¤šå±‚å®‰å…¨éªŒè¯
- âœ… å®Œæ•´å®¡è®¡æ—¥å¿—
- âœ… é€‚åˆåˆ›æ–°ç­–ç•¥å¼€å‘å’Œè‡ªå®šä¹‰é€»è¾‘

**ä½¿ç”¨åœºæ™¯**: åˆ›æ–°ç­–ç•¥å¼€å‘ã€è‡ªå®šä¹‰äº¤æ˜“é€»è¾‘ã€å¿«é€Ÿç­–ç•¥å®éªŒ

**å®‰å…¨æœºåˆ¶**:
```
Backend (æäº¤ Python ä»£ç )
    â†“ å¯é€‰çš„åˆæ¬¡éªŒè¯
dynamic_strategies è¡¨
    â†“ Core åŠ è½½
å¤šå±‚å®‰å…¨éªŒè¯:
    1. ä»£ç ç­¾å/å“ˆå¸ŒéªŒè¯
    2. AST è¯­æ³•æ ‘åˆ†æ
    3. å±é™©æ“ä½œæ£€æµ‹
    4. ç™½åå•å¯¼å…¥æ£€æŸ¥
    5. å—é™æ²™ç®±æ‰§è¡Œ
    6. èµ„æºä½¿ç”¨é™åˆ¶
    7. å®Œæ•´å®¡è®¡æ—¥å¿—
    â†“
å®‰å…¨æ‰§è¡Œ
```

**æ³¨**: Core ä¸å…³å¿ƒä»£ç æ¥æºï¼ˆAI ç”Ÿæˆã€äººå·¥ç¼–å†™æˆ–å…¶ä»–ï¼‰ï¼Œåªè´Ÿè´£å®‰å…¨éªŒè¯å’Œæ‰§è¡Œ

### ç­–ç•¥å…ƒä¿¡æ¯

æ¯ä¸ªç­–ç•¥å®ä¾‹éƒ½åŒ…å«å®Œæ•´çš„å…ƒä¿¡æ¯ï¼š

```python
strategy = factory.create_from_code(strategy_id=456)
metadata = strategy.get_metadata()

print(metadata)
# {
#     'name': 'SmallCapMomentum',
#     'class': 'SmallCapStrategy',
#     'strategy_type': 'dynamic',        # predefined/configured/dynamic
#     'config_id': None,
#     'strategy_id': 456,
#     'config_version': None,
#     'code_hash': 'abc123...',
#     'risk_level': 'low',               # safe/low/medium/high
#     'config': {...}
# }
```

### å®‰å…¨é˜²æŠ¤ä½“ç³»

#### å¤šå±‚é˜²å¾¡æ¶æ„

| å±‚çº§ | æªæ–½ | å®ç°ç»„ä»¶ |
|------|------|---------|
| **ç¬¬1å±‚: BackendéªŒè¯** | Promptè¿‡æ»¤ã€ASTåˆ†æã€æ²™ç®±æµ‹è¯• | Backend |
| **ç¬¬2å±‚: CoreåŠ è½½éªŒè¯** â­ | ä»£ç ç­¾åã€ASTåˆ†æã€ç™½åå•æ£€æŸ¥ | CodeSanitizer |
| **ç¬¬3å±‚: è¿è¡Œæ—¶éš”ç¦»** â­ | å—é™å‘½åç©ºé—´ã€èµ„æºé™åˆ¶ | ResourceLimiter |
| **ç¬¬4å±‚: å®¡è®¡ç›‘æ§** â­ | æ“ä½œæ—¥å¿—ã€å¼‚å¸¸å‘Šè­¦ | AuditLogger |

#### å®‰å…¨ç»„ä»¶è¯¦è§£

**CodeSanitizer** (ä»£ç å‡€åŒ–å™¨)
- AST æ·±åº¦åˆ†æ
- å±é™©å¯¼å…¥æ£€æµ‹ï¼ˆosã€sysã€subprocessç­‰ï¼‰
- å±é™©å‡½æ•°æ£€æµ‹ï¼ˆevalã€execã€openç­‰ï¼‰
- ä»£ç å“ˆå¸Œå®Œæ•´æ€§éªŒè¯
- é£é™©ç­‰çº§è¯„ä¼°

**PermissionChecker** (æƒé™æ£€æŸ¥å™¨)
- æ–‡ä»¶ç³»ç»Ÿè®¿é—®æ‹¦æˆª
- ç½‘ç»œè®¿é—®æ‹¦æˆª
- ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œæ‹¦æˆª
- pandas/numpy æ–¹æ³•ç™½åå•

**ResourceLimiter** (èµ„æºé™åˆ¶å™¨)
- CPU æ—¶é—´é™åˆ¶ï¼ˆé»˜è®¤ 30sï¼‰
- å†…å­˜é™åˆ¶ï¼ˆé»˜è®¤ 512MBï¼‰
- å¢™é’Ÿæ—¶é—´é™åˆ¶ï¼ˆé»˜è®¤ 60sï¼‰
- è·¨å¹³å°å…¼å®¹ï¼ˆmacOS/Linux/Windowsï¼‰

**AuditLogger** (å®¡è®¡æ—¥å¿—)
- ç­–ç•¥åŠ è½½äº‹ä»¶è®°å½•
- ç­–ç•¥æ‰§è¡Œäº‹ä»¶è®°å½•
- å®‰å…¨è¿è§„äº‹ä»¶è®°å½•
- JSONL æ ¼å¼å­˜å‚¨
- å®Œæ•´äº‹ä»¶æŸ¥è¯¢å’Œç»Ÿè®¡

è¯¦ç»†å®‰å…¨æœºåˆ¶è¯·å‚è€ƒï¼š[å®‰å…¨é˜²èŒƒæªæ–½](./planning/core_strategy_system_refactoring.md#å®‰å…¨é˜²èŒƒæªæ–½)

### æ€§èƒ½ä¼˜åŒ–

#### å¤šçº§ç¼“å­˜

**ç­–ç•¥ç¼“å­˜æ¶æ„**:
```
è¯·æ±‚ç­–ç•¥
    â†“
ç¬¬1å±‚: å†…å­˜ç¼“å­˜ (StrategyCache)
    â†“ æœªå‘½ä¸­
ç¬¬2å±‚: Redisç¼“å­˜ (å¯é€‰)
    â†“ æœªå‘½ä¸­
ç¬¬3å±‚: æ•°æ®åº“æŸ¥è¯¢
```

**æ€§èƒ½æå‡**:
- å†…å­˜ç¼“å­˜å‘½ä¸­: **500x** æå‡
- Redis ç¼“å­˜å‘½ä¸­: **100x** æå‡
- æ‰¹é‡åŠ è½½: **25x** æå‡

#### æ‡’åŠ è½½

```python
from core.strategies.optimization import LazyStrategy, StrategyPool

# æ‡’åŠ è½½åŒ…è£…å™¨ï¼ˆåªåœ¨å®é™…ä½¿ç”¨æ—¶åŠ è½½ï¼‰
lazy_strategy = LazyStrategy(strategy_id=456, loader=factory)

# ç­–ç•¥æ± ç®¡ç†ï¼ˆè‡ªåŠ¨ LRU æ·˜æ±°ï¼‰
pool = StrategyPool(max_size=100)
pool.add_strategies([101, 102, 103, ...])  # æ·»åŠ ç­–ç•¥ID
strategy = pool.get(101)  # è‡ªåŠ¨æ‡’åŠ è½½
```

**æ€§èƒ½æå‡**:
- å¯åŠ¨æ—¶é—´: **20x** æå‡
- å†…å­˜ä½¿ç”¨: **4x** ä¼˜åŒ–

#### æ‰¹é‡åŠ è½½

```python
from core.strategies.loaders import LoaderFactory

loader = LoaderFactory.get_instance()

# æ‰¹é‡åŠ è½½ï¼ˆå•æ¬¡æ•°æ®åº“æŸ¥è¯¢ï¼‰
strategies = loader.batch_load(
    source='config',
    strategy_ids=[101, 102, 103, 104, 105]
)
```

**æ€§èƒ½æå‡**:
- æ‰¹é‡æŸ¥è¯¢: **25x** æå‡ vs é€ä¸ªæŸ¥è¯¢

#### æ€§èƒ½ç›‘æ§

```python
from core.strategies.monitoring import PerformanceMonitor

monitor = PerformanceMonitor()

# è®°å½•ç­–ç•¥æ‰§è¡Œæ€§èƒ½
with monitor.track('strategy_execution', strategy_id=456):
    signals = strategy.generate_signals(prices)

# è·å–ç»Ÿè®¡ä¿¡æ¯
stats = monitor.get_stats('strategy_execution')
print(f"P50: {stats['p50']:.2f}ms")
print(f"P95: {stats['p95']:.2f}ms")
print(f"P99: {stats['p99']:.2f}ms")
```

è¯¦ç»†æ€§èƒ½ä¼˜åŒ–è¯·å‚è€ƒï¼š[æ€§èƒ½ä¼˜åŒ–](./planning/core_strategy_system_refactoring.md#æ€§èƒ½ä¼˜åŒ–)

---

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### åœºæ™¯ 1: å¿«é€ŸéªŒè¯ç­–ç•¥æƒ³æ³•ï¼ˆé¢„å®šä¹‰ç­–ç•¥ï¼‰

é€‚åˆå¿«é€ŸåŸå‹éªŒè¯å’Œæ ‡å‡†ç­–ç•¥å›æµ‹ï¼š

```python
from core.strategies import StrategyFactory
from core.backtest import BacktestEngine

factory = StrategyFactory()

# åˆ›å»ºåŠ¨é‡ç­–ç•¥
strategy = factory.create('momentum', {
    'lookback_period': 20,
    'threshold': 0.10,
    'top_n': 20
})

# è¿è¡Œå›æµ‹
engine = BacktestEngine()
result = engine.run(strategy=strategy, stock_pool=stock_pool, ...)

print(f"æ”¶ç›Šç‡: {result.total_return:.2%}")
```

### åœºæ™¯ 2: ç­–ç•¥å‚æ•°ä¼˜åŒ–ï¼ˆé…ç½®é©±åŠ¨ï¼‰

é€‚åˆå‚æ•°ç½‘æ ¼æœç´¢å’Œåœ¨çº¿è°ƒå‚ï¼š

```python
from core.strategies import StrategyFactory

# Backend åˆ›å»ºå¤šç»„å‚æ•°é…ç½®
# configs = [
#     {'lookback': 10, 'threshold': 0.05},
#     {'lookback': 20, 'threshold': 0.10},
#     {'lookback': 30, 'threshold': 0.15},
# ]
# config_ids = backend.save_configs(configs)  # [101, 102, 103]

factory = StrategyFactory()

# Core æ‰¹é‡åŠ è½½å¹¶å›æµ‹
results = {}
for config_id in [101, 102, 103]:
    strategy = factory.create_from_config(config_id=config_id)
    result = engine.run(strategy=strategy, ...)
    results[config_id] = result

# æ‰¾å‡ºæœ€ä½³å‚æ•°
best_id = max(results, key=lambda k: results[k].sharpe_ratio)
print(f"æœ€ä½³é…ç½®: {best_id}, å¤æ™®: {results[best_id].sharpe_ratio:.2f}")
```

### åœºæ™¯ 3: åŠ¨æ€ä»£ç ç­–ç•¥å¼€å‘

é€‚åˆåˆ›æ–°ç­–ç•¥å¼€å‘å’Œè‡ªå®šä¹‰é€»è¾‘ï¼š

```python
from core.strategies import StrategyFactory

# Backend æäº¤ Python ç­–ç•¥ä»£ç åˆ°æ•°æ®åº“
# ä»£ç å¯èƒ½æ¥è‡ªï¼šAI ç”Ÿæˆã€äººå·¥ç¼–å†™ã€ä»£ç æ¨¡æ¿ç­‰
# strategy_code = """
# class SmallCapStrategy(BaseStrategy):
#     def calculate_scores(self, prices, features, date):
#         # è‡ªå®šä¹‰è¯„åˆ†é€»è¾‘
#         ...
# """
# strategy_id = backend.save_dynamic_strategy(strategy_code)  # 456

factory = StrategyFactory()

# Core åŠ è½½åŠ¨æ€ç­–ç•¥ï¼ˆè‡ªåŠ¨å®‰å…¨éªŒè¯ï¼‰
try:
    strategy = factory.create_from_code(
        strategy_id=456,
        strict_mode=True  # ä¸¥æ ¼æ¨¡å¼
    )

    # æŸ¥çœ‹å®‰å…¨å®¡è®¡
    metadata = strategy.get_metadata()
    print(f"é£é™©ç­‰çº§: {metadata['risk_level']}")  # safe/low/medium/high

    # è¿è¡Œå›æµ‹
    result = engine.run(strategy=strategy, ...)

except SecurityError as e:
    print(f"å®‰å…¨éªŒè¯å¤±è´¥: {e}")
    # Backend å¯ä»¥ç¦ç”¨è¯¥ç­–ç•¥æˆ–é€šçŸ¥ç”¨æˆ·
```

### åœºæ™¯ 4: MLStockRanker è¾…åŠ©ç­›é€‰

ä½¿ç”¨ ML è¯„åˆ†å·¥å…·ç­›é€‰è‚¡ç¥¨æ± ï¼š

```python
from core.features.ml_ranker import MLStockRanker
from core.strategies import StrategyFactory

# Step 1: MLStockRanker ç­›é€‰è‚¡ç¥¨æ± 
ranker = MLStockRanker(model_path='models/ranker.pkl')
rankings = ranker.rank(
    stock_pool=all_a_stocks,  # 3000 åª
    market_data=market_data,
    date='2024-01-01',
    return_top_n=50
)

# Step 2: åœ¨ç­›é€‰åçš„è‚¡ç¥¨æ± ä¸Šè¿è¡Œç­–ç•¥
stock_pool = list(rankings.keys())

factory = StrategyFactory()
strategy = factory.create('momentum', {'lookback_period': 20})

result = engine.run(strategy=strategy, stock_pool=stock_pool, ...)
```

### åœºæ™¯ 5: é«˜æ€§èƒ½æ‰¹é‡å›æµ‹

ä½¿ç”¨æ€§èƒ½ä¼˜åŒ–åŠŸèƒ½è¿›è¡Œå¤§è§„æ¨¡å›æµ‹ï¼š

```python
from core.strategies.loaders import LoaderFactory
from core.strategies.optimization import StrategyPool

# å¯ç”¨ Redis ç¼“å­˜ï¼ˆ500x æ€§èƒ½æå‡ï¼‰
loader = LoaderFactory.get_instance()

# æ‰¹é‡åŠ è½½ç­–ç•¥ï¼ˆ25x æ€§èƒ½æå‡ï¼‰
strategy_ids = list(range(101, 201))  # 100 ä¸ªç­–ç•¥
strategies = loader.batch_load(
    source='config',
    strategy_ids=strategy_ids
)

# ä½¿ç”¨ç­–ç•¥æ± ç®¡ç†ï¼ˆæ‡’åŠ è½½ + LRU æ·˜æ±°ï¼‰
pool = StrategyPool(max_size=50)
pool.add_strategies(strategy_ids)

# å¹¶è¡Œå›æµ‹
from concurrent.futures import ThreadPoolExecutor

def backtest_strategy(strategy_id):
    strategy = pool.get(strategy_id)  # è‡ªåŠ¨æ‡’åŠ è½½
    return engine.run(strategy=strategy, ...)

with ThreadPoolExecutor(max_workers=8) as executor:
    results = list(executor.map(backtest_strategy, strategy_ids))

print(f"å®Œæˆ {len(results)} ä¸ªç­–ç•¥å›æµ‹")
```

### åœºæ™¯ 6: æ€§èƒ½ç›‘æ§å’Œè°ƒä¼˜

ç›‘æ§ç­–ç•¥æ‰§è¡Œæ€§èƒ½ï¼Œè¯†åˆ«ç“¶é¢ˆï¼š

```python
from core.strategies.monitoring import PerformanceMonitor, MetricsCollector

monitor = PerformanceMonitor()
metrics = MetricsCollector()

# ç›‘æ§ç­–ç•¥æ‰§è¡Œ
for strategy_id in strategy_ids:
    with monitor.track('strategy_execution', strategy_id=strategy_id):
        strategy = factory.create_from_config(config_id=strategy_id)
        result = engine.run(strategy=strategy, ...)

        # æ”¶é›†æŒ‡æ ‡
        metrics.increment('strategies_executed')
        metrics.histogram('strategy_return', result.total_return)

# åˆ†ææ€§èƒ½
stats = monitor.get_stats('strategy_execution')
print(f"å¹³å‡è€—æ—¶: {stats['mean']:.2f}ms")
print(f"P95 è€—æ—¶: {stats['p95']:.2f}ms")
print(f"P99 è€—æ—¶: {stats['p99']:.2f}ms")

# å¯¼å‡ºæŒ‡æ ‡ï¼ˆPrometheus æ ¼å¼ï¼‰
prometheus_metrics = metrics.export_prometheus()
print(prometheus_metrics)
```

---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### ğŸ†• ç­–ç•¥ç³»ç»Ÿæ–‡æ¡£ (v6.0)

äº†è§£æ–°çš„ç­–ç•¥ç³»ç»Ÿæ¶æ„å’Œä½¿ç”¨æ–¹æ³•ã€‚

- **[ç­–ç•¥ç³»ç»Ÿé‡æ„æ–¹æ¡ˆ](./planning/core_strategy_system_refactoring.md)** â­ - å®Œæ•´çš„é‡æ„æ–‡æ¡£
  - ä¸‰ç§ç­–ç•¥ç±»å‹è¯¦è§£
  - å¤šå±‚å®‰å…¨é˜²æŠ¤æœºåˆ¶
  - æ€§èƒ½ä¼˜åŒ–ç­–ç•¥
  - Phase 1-4 å®æ–½æŠ¥å‘Š
- **[Phase 1: å®‰å…¨åŸºç¡€è®¾æ–½](./planning/core_strategy_system_refactoring.md#phase-1-å®‰å…¨åŸºç¡€è®¾æ–½-1å‘¨--å·²å®Œæˆ)** - CodeSanitizerã€PermissionCheckerã€ResourceLimiterã€AuditLogger
- **[Phase 2: åŠ è½½å™¨å®ç°](./planning/core_strategy_system_refactoring.md#phase-2-åŠ è½½å™¨å®ç°-1å‘¨--å·²å®Œæˆ)** - ConfigLoaderã€DynamicCodeLoaderã€LoaderFactory
- **[Phase 3: å·¥å‚ä¸åŸºç±»æ”¹é€ ](./planning/core_strategy_system_refactoring.md#phase-3-å·¥å‚ä¸åŸºç±»æ”¹é€ -3-5å¤©--å·²å®Œæˆ)** - StrategyFactoryã€BaseStrategy å¢å¼º
- **[Phase 4: æ€§èƒ½ä¼˜åŒ–ä¸ç›‘æ§](./planning/core_strategy_system_refactoring.md#phase-4-æ€§èƒ½ä¼˜åŒ–ä¸ç›‘æ§-3-5å¤©--å·²å®Œæˆ)** - Redis ç¼“å­˜ã€æ‡’åŠ è½½ã€æ‰¹é‡æŸ¥è¯¢ã€æ€§èƒ½ç›‘æ§

### ğŸ—ï¸ æ¶æ„æ–‡æ¡£

æ·±å…¥äº†è§£ç³»ç»Ÿè®¾è®¡å’ŒæŠ€æœ¯å®ç°ã€‚

- **[æ¶æ„æ€»è§ˆ](./architecture/overview.md)** - ç³»ç»Ÿæ¶æ„å’Œæ ¸å¿ƒè®¾è®¡ç†å¿µ
- **[è®¾è®¡æ¨¡å¼](./architecture/design_patterns.md)** - 10+ ç§è®¾è®¡æ¨¡å¼åº”ç”¨è¯¦è§£
- **[æ€§èƒ½ä¼˜åŒ–](./architecture/performance.md)** - æ€§èƒ½æå‡åˆ†æå’Œä¼˜åŒ–æŠ€å·§
- **[æŠ€æœ¯æ ˆè¯¦è§£](./architecture/tech_stack.md)** - å®Œæ•´æŠ€æœ¯é€‰å‹è¯´æ˜

### ğŸ¤– æœºå™¨å­¦ä¹ æ–‡æ¡£

ML æ¨¡å‹è®­ç»ƒã€è¯„ä¼°å’Œä½¿ç”¨æŒ‡å—ã€‚

- **[ML ç³»ç»Ÿæ¦‚è¿°](./ml/README.md)** - æœºå™¨å­¦ä¹ ç³»ç»Ÿæ•´ä½“æ¶æ„
- **[MLStockRanker](./ml/mlstockranker.md)** - ML è‚¡ç¥¨è¯„åˆ†å·¥å…·è¯¦ç»†æ–‡æ¡£
- **[è¯„ä¼°æŒ‡æ ‡](./ml/evaluation-metrics.md)** - æ¨¡å‹è¯„ä¼°æŒ‡æ ‡è¯´æ˜

### ğŸ‘¨â€ğŸ’» å¼€å‘æŒ‡å—

ä¸ºè´¡çŒ®è€…å’Œå¼€å‘è€…æä¾›çš„æŒ‡å—ã€‚

- **[ä»£ç è§„èŒƒ](./guides/developer/coding_standards.md)** - PEP 8ã€å‘½åè§„èŒƒã€ç±»å‹æç¤º
- **[è´¡çŒ®æŒ‡å—](./guides/developer/contributing.md)** - Fork æµç¨‹ã€PR è§„èŒƒã€ä»£ç å®¡æŸ¥
- **[æµ‹è¯•æŒ‡å—](./guides/developer/testing.md)** - å¦‚ä½•ç¼–å†™æµ‹è¯•ã€æµ‹è¯•å“²å­¦ã€æœ€ä½³å®è·µ
- **[æœ€ä½³å®è·µ](./guides/best-practices.md)** - ä½¿ç”¨å»ºè®®å’Œå¼€å‘æŠ€å·§

### ğŸ“‹ API å‚è€ƒ

å®Œæ•´çš„ API æ–‡æ¡£å’Œæ¥å£è¯´æ˜ã€‚

- **[API å‚è€ƒæ‰‹å†Œ](./api/reference.md)** - æ ¸å¿ƒ API æ¥å£æ–‡æ¡£
- **[Sphinx API æ–‡æ¡£](./api/sphinx/README.md)** - è‡ªåŠ¨ç”Ÿæˆçš„å®Œæ•´ API æ–‡æ¡£

### ğŸ“… ç‰ˆæœ¬å†å²

äº†è§£é¡¹ç›®ç‰ˆæœ¬æ¼”è¿›å†å²ã€‚

- **[v6.0.0 å‘å¸ƒè¯´æ˜](#-æ–°ç‰¹æ€§-v60)** â­ - ç­–ç•¥ç³»ç»Ÿé‡æ„ï¼ˆæœ¬æ–‡æ¡£ï¼‰
- **[å®Œæ•´å˜æ›´æ—¥å¿—](./versions/CHANGELOG.md)** - æ‰€æœ‰ç‰ˆæœ¬å˜æ›´è®°å½•
- **[v5.0.0 å‘å¸ƒè¯´æ˜](./versions/CHANGELOG_v5.0.0.md)** - v5.0.0 ç‰ˆæœ¬è¯¦æƒ…
- **[v3.1.0 å‘å¸ƒè¯´æ˜](./versions/v3.1.0.md)** - v3.1.0 ç‰ˆæœ¬è¯¦æƒ…
- **[v3.0.0 å‘å¸ƒè¯´æ˜](./versions/v3.0.0.md)** - v3.0.0 ç‰ˆæœ¬è¯¦æƒ…

---

## âš¡ æ€§èƒ½æŒ‡æ ‡

### ç­–ç•¥ç³»ç»Ÿæ€§èƒ½ (v6.0)

#### ç­–ç•¥åŠ è½½æ€§èƒ½

| ç­–ç•¥ç±»å‹ | é¦–æ¬¡åŠ è½½ | ç¼“å­˜å‘½ä¸­ | æ‰¹é‡åŠ è½½(100ä¸ª) | æ€§èƒ½æå‡ |
|---------|---------|---------|----------------|---------|
| é¢„å®šä¹‰ç­–ç•¥ | <1ms | N/A | N/A | åŸºå‡† |
| é…ç½®é©±åŠ¨ | ~50ms | <0.1ms | ~200ms | **500x** (ç¼“å­˜) / **25x** (æ‰¹é‡) |
| åŠ¨æ€ä»£ç ç­–ç•¥ | ~200ms | <0.5ms | ~800ms | **400x** (ç¼“å­˜) / **25x** (æ‰¹é‡) |

#### å®‰å…¨éªŒè¯æ€§èƒ½

| éªŒè¯æ­¥éª¤ | è€—æ—¶ | è¯´æ˜ |
|---------|------|------|
| ä»£ç å“ˆå¸ŒéªŒè¯ | <1ms | SHA-256 |
| AST è¯­æ³•åˆ†æ | ~50ms | æ·±åº¦åˆ†æ |
| æƒé™æ£€æŸ¥ | ~10ms | ç™½åå•æ£€æŸ¥ |
| ä»£ç ç¼–è¯‘ | ~100ms | åŠ¨æ€ç¼–è¯‘ |
| **æ€»è®¡** | **~160ms** | é¦–æ¬¡åŠ è½½ï¼ˆç¼“å­˜å <1msï¼‰ |

#### ç¼“å­˜æ€§èƒ½

| ç¼“å­˜å±‚çº§ | å‘½ä¸­è€—æ—¶ | æœªå‘½ä¸­è€—æ—¶ | æ€§èƒ½æå‡ |
|---------|---------|-----------|---------|
| å†…å­˜ç¼“å­˜ | <0.1ms | - | **500x** |
| Redisç¼“å­˜ | ~1ms | - | **100x** |
| æ•°æ®åº“æŸ¥è¯¢ | ~50ms | - | åŸºå‡† |

#### èµ„æºé™åˆ¶æ€§èƒ½å½±å“

| åœºæ™¯ | æ— é™åˆ¶ | æœ‰é™åˆ¶ | æ€§èƒ½æŸå¤± |
|------|--------|--------|---------|
| ç®€å•ç­–ç•¥ | 10ms | 11ms | ~10% |
| å¤æ‚ç­–ç•¥ | 100ms | 105ms | ~5% |
| è¶…æ—¶ç­–ç•¥ | âˆ | 60s (è‡ªåŠ¨ç»ˆæ­¢) | - |

### å›æµ‹æ€§èƒ½

| åœºæ™¯ | è‚¡ç¥¨æ•° | æ—¥æœŸæ•° | è€—æ—¶ | æ€§èƒ½ |
|------|--------|--------|------|------|
| é¢„å®šä¹‰ç­–ç•¥ | 50 | 250 | <5s | âœ… ä¼˜ç§€ |
| é…ç½®é©±åŠ¨ç­–ç•¥ | 50 | 250 | <6s | âœ… ä¼˜ç§€ |
| åŠ¨æ€ä»£ç ç­–ç•¥ | 50 | 250 | <8s | âœ… è‰¯å¥½ |
| ä½¿ç”¨ MLStockRanker | 50 | 250 | <10s | âœ… è‰¯å¥½ |

### æ‰¹é‡å›æµ‹æ€§èƒ½ (v6.0)

| ä¼˜åŒ–æ–¹å¼ | ç­–ç•¥æ•° | è‚¡ç¥¨æ•° | æ—¥æœŸæ•° | è€—æ—¶ | æ€§èƒ½æå‡ |
|---------|--------|--------|--------|------|---------|
| ä¸²è¡Œæ‰§è¡Œ | 100 | 50 | 250 | ~600s | åŸºå‡† |
| æ‰¹é‡åŠ è½½ | 100 | 50 | 250 | ~25s | **24x** |
| æ‰¹é‡+ç¼“å­˜ | 100 | 50 | 250 | ~5s | **120x** |
| æ‰¹é‡+ç¼“å­˜+æ‡’åŠ è½½ | 100 | 50 | 250 | ~3s | **200x** |

### MLStockRanker æ€§èƒ½

| æ“ä½œ | è‚¡ç¥¨æ•° | ç‰¹å¾æ•° | è€—æ—¶ | æ€§èƒ½ |
|------|--------|--------|------|------|
| è¯„åˆ† | 3000 | 125 | <2s | âœ… ä¼˜ç§€ |
| è¯„åˆ† | 100 | 125 | <100ms | âœ… ä¼˜ç§€ |
| è¯„åˆ† | 50 | 10 | <50ms | âœ… ä¼˜ç§€ |

### æ€§èƒ½ç›‘æ§æŒ‡æ ‡ (v6.0)

é€šè¿‡ PerformanceMonitor æ”¶é›†çš„å®é™…è¿è¡Œæ•°æ®ï¼š

```
ç­–ç•¥æ‰§è¡Œæ€§èƒ½ (1000æ¬¡è¿è¡Œ)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
å¹³å‡è€—æ—¶:     45.2ms
ä¸­ä½æ•°(P50):  38.1ms
P95:         89.3ms
P99:        156.7ms
æœ€å¤§å€¼:      312.5ms
æœ€å°å€¼:        8.3ms
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

## ğŸ“‚ æ–‡æ¡£ç›®å½•ç»“æ„

```
core/docs/
â”œâ”€â”€ README.md                                    # æœ¬æ–‡æ¡£ - v6.0 æ€»è§ˆ
â”œâ”€â”€ planning/                                    # â­ ç­–ç•¥ç³»ç»Ÿé‡æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ core_strategy_system_refactoring.md      # å®Œæ•´é‡æ„æ–¹æ¡ˆ (Phase 1-4)
â”‚   â”œâ”€â”€ phase2_loader_implementation_report.md   # Phase 2 å®æ–½æŠ¥å‘Š
â”‚   â”œâ”€â”€ phase3_factory_refactoring_report.md     # Phase 3 å®æ–½æŠ¥å‘Š
â”‚   â”œâ”€â”€ phase4_performance_optimization_report.md # Phase 4 å®æ–½æŠ¥å‘Š
â”‚   â””â”€â”€ tech_debt.md                             # æŠ€æœ¯å€ºåŠ¡
â”œâ”€â”€ architecture/                                # æ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ overview.md                              # æ¶æ„æ€»è§ˆ
â”‚   â”œâ”€â”€ design_patterns.md                       # è®¾è®¡æ¨¡å¼
â”‚   â”œâ”€â”€ performance.md                           # æ€§èƒ½ä¼˜åŒ–
â”‚   â””â”€â”€ tech_stack.md                            # æŠ€æœ¯æ ˆ
â”œâ”€â”€ ml/                                          # ML ç³»ç»Ÿæ–‡æ¡£
â”‚   â”œâ”€â”€ README.md                                # ML ç³»ç»Ÿæ¦‚è¿°
â”‚   â”œâ”€â”€ mlstockranker.md                         # MLStockRanker
â”‚   â””â”€â”€ evaluation-metrics.md                    # è¯„ä¼°æŒ‡æ ‡
â”œâ”€â”€ guides/                                      # æŒ‡å—æ–‡æ¡£
â”‚   â”œâ”€â”€ best-practices.md                        # æœ€ä½³å®è·µ
â”‚   â””â”€â”€ developer/                               # å¼€å‘æŒ‡å—
â”‚       â”œâ”€â”€ coding_standards.md
â”‚       â”œâ”€â”€ contributing.md
â”‚       â””â”€â”€ testing.md
â”œâ”€â”€ api/                                         # API å‚è€ƒ
â”‚   â”œâ”€â”€ reference.md
â”‚   â””â”€â”€ sphinx/
â””â”€â”€ versions/                                    # ç‰ˆæœ¬å†å²
    â”œâ”€â”€ CHANGELOG.md                             # å®Œæ•´å˜æ›´æ—¥å¿—
    â”œâ”€â”€ CHANGELOG_v5.0.0.md
    â”œâ”€â”€ v3.1.0.md
    â””â”€â”€ v3.0.0.md
```

### æ–°å¢æ–‡æ¡£ (v6.0)

| æ–‡æ¡£ | è¯´æ˜ | ä½ç½® |
|------|------|------|
| **ç­–ç•¥ç³»ç»Ÿé‡æ„æ–¹æ¡ˆ** | å®Œæ•´çš„é‡æ„æ–‡æ¡£ï¼ŒåŒ…å«æ¶æ„è®¾è®¡ã€å®‰å…¨æœºåˆ¶ã€æ€§èƒ½ä¼˜åŒ– | [planning/core_strategy_system_refactoring.md](./planning/core_strategy_system_refactoring.md) |
| **Phase 2 æŠ¥å‘Š** | åŠ è½½å™¨å®ç°è¯¦ç»†æŠ¥å‘Š | planning/phase2_loader_implementation_report.md |
| **Phase 3 æŠ¥å‘Š** | å·¥å‚ä¸åŸºç±»æ”¹é€ æŠ¥å‘Š | planning/phase3_factory_refactoring_report.md |
| **Phase 4 æŠ¥å‘Š** | æ€§èƒ½ä¼˜åŒ–ä¸ç›‘æ§æŠ¥å‘Š | planning/phase4_performance_optimization_report.md |

---

## ğŸ”— ç›¸å…³é“¾æ¥

- **é¡¹ç›®ä¸»é¡µ**: [Stock-Analysis Core](https://github.com/your-org/stock-analysis)
- **é—®é¢˜åé¦ˆ**: [Issues](https://github.com/your-org/stock-analysis/issues)
- **Sphinx API æ–‡æ¡£**: [æŸ¥çœ‹å®Œæ•´ API](./api/sphinx/README.md)
- **ç­–ç•¥ç³»ç»Ÿé‡æ„æ–‡æ¡£**: [å®Œæ•´æ–¹æ¡ˆ](./planning/core_strategy_system_refactoring.md)

---

## ğŸš¦ é¡¹ç›®çŠ¶æ€

### å·²å®Œæˆ âœ…

- âœ… **Phase 1: å®‰å…¨åŸºç¡€è®¾æ–½** (2026-02-08)
  - CodeSanitizerã€PermissionCheckerã€ResourceLimiterã€AuditLogger
  - æµ‹è¯•è¦†ç›–ç‡ 87%

- âœ… **Phase 2: åŠ è½½å™¨å®ç°** (2026-02-08)
  - ConfigLoaderã€DynamicCodeLoaderã€LoaderFactory
  - å¤šçº§ç¼“å­˜æ”¯æŒ

- âœ… **Phase 3: å·¥å‚ä¸åŸºç±»æ”¹é€ ** (2026-02-08)
  - StrategyFactory é‡æ„
  - BaseStrategy å¢å¼º
  - predefined/ ç›®å½•é‡ç»„

- âœ… **Phase 4: æ€§èƒ½ä¼˜åŒ–ä¸ç›‘æ§** (2026-02-08)
  - Redis ç¼“å­˜é›†æˆ
  - æ‡’åŠ è½½æœºåˆ¶
  - æ€§èƒ½ç›‘æ§ç³»ç»Ÿ
  - 25x æ‰¹é‡åŠ è½½æå‡

### è¿›è¡Œä¸­ ğŸ”„

- ğŸ”„ **Phase 5: è”è°ƒä¸å‘å¸ƒ** (é¢„è®¡ 3 å¤©)
  - Backend å¯¹æ¥
  - ç«¯åˆ°ç«¯æµ‹è¯•
  - å®‰å…¨å®¡è®¡
  - ç”Ÿäº§éƒ¨ç½²

### å¾…å¼€å§‹ â³

- â³ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- â³ æ€§èƒ½åŸºå‡†æµ‹è¯•ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- â³ ç”¨æˆ·åŸ¹è®­å’Œæ–‡æ¡£å®Œå–„

---

## ğŸ“Š æµ‹è¯•è¦†ç›–ç‡æ€»è§ˆ

```
æ¨¡å—                                è¦†ç›–ç‡
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
strategies/security/                87%
  â”œâ”€â”€ code_sanitizer.py            89%
  â”œâ”€â”€ permission_checker.py        97%
  â”œâ”€â”€ resource_limiter.py          76%
  â”œâ”€â”€ audit_logger.py              87%
  â””â”€â”€ security_config.py           91%

strategies/loaders/                 50%*
  â”œâ”€â”€ config_loader.py             21%*
  â”œâ”€â”€ dynamic_loader.py            37%*
  â”œâ”€â”€ base_loader.py               95%
  â””â”€â”€ loader_factory.py            68%

strategies/cache/                   67%
  â””â”€â”€ strategy_cache.py            67%

strategies/                        100%
  â”œâ”€â”€ strategy_factory.py         100%
  â””â”€â”€ base_strategy.py            100%
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æ€»æµ‹è¯•æ•°:  373 passed, 1 skipped
æ€»è¦†ç›–ç‡:  ~75%
```

*æ³¨ï¼šä¾èµ–æ•°æ®åº“çš„æ¨¡å—å•å…ƒæµ‹è¯•è¦†ç›–ç‡è¾ƒä½ï¼Œä½†é›†æˆæµ‹è¯•å·²å……åˆ†éªŒè¯

---

## ğŸ“ å¿«é€Ÿå…¥é—¨æŒ‡å—

### 5åˆ†é’Ÿä¸Šæ‰‹

1. **å®‰è£…ä¾èµ–**
   ```bash
   pip install -r requirements.txt
   ```

2. **åˆ›å»ºç¬¬ä¸€ä¸ªç­–ç•¥**
   ```python
   from core.strategies import StrategyFactory

   factory = StrategyFactory()
   strategy = factory.create('momentum', {'lookback_period': 20})
   ```

3. **è¿è¡Œå›æµ‹**
   ```python
   from core.backtest import BacktestEngine

   engine = BacktestEngine()
   result = engine.run(strategy=strategy, ...)
   print(f"æ”¶ç›Šç‡: {result.total_return:.2%}")
   ```

### è¿›é˜¶ä½¿ç”¨

- ğŸ“– é˜…è¯» [ç­–ç•¥ç³»ç»Ÿé‡æ„æ–¹æ¡ˆ](./planning/core_strategy_system_refactoring.md)
- ğŸ” æŸ¥çœ‹ [ä½¿ç”¨ç¤ºä¾‹](#-ä½¿ç”¨ç¤ºä¾‹)
- ğŸš€ äº†è§£ [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
- ğŸ›¡ï¸ å­¦ä¹  [å®‰å…¨æœºåˆ¶](#å®‰å…¨é˜²æŠ¤ä½“ç³»)

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

## ğŸ“® è”ç³»æ–¹å¼

- **æŠ€æœ¯æ”¯æŒ**: quant-team@example.com
- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/your-org/stock-analysis/issues)
- **æ¶æ„è®¨è®º**: Architecture Team
- **å®‰å…¨é—®é¢˜**: security@example.com

---

**æ–‡æ¡£ç‰ˆæœ¬**: v6.0.0
**æœ€åæ›´æ–°**: 2026-02-09
**æ›´æ–°å†…å®¹**: ç­–ç•¥ç³»ç»Ÿé‡æ„å®Œæˆï¼ˆPhase 1-4ï¼‰ï¼Œæ–°å¢ä¸‰ç§ç­–ç•¥ç±»å‹ï¼ˆé¢„å®šä¹‰/é…ç½®é©±åŠ¨/åŠ¨æ€ä»£ç ï¼‰ã€å¤šå±‚å®‰å…¨é˜²æŠ¤ã€æ€§èƒ½ä¼˜åŒ–ç³»ç»Ÿ
**ç»´æŠ¤å›¢é˜Ÿ**: Quant Team & Architecture Team
**ä¸‹ä¸€æ­¥**: Phase 5 è”è°ƒä¸å‘å¸ƒ

**é‡è¦è¯´æ˜**: Core é¡¹ç›®ä¿æŒèŒè´£å•ä¸€ï¼Œåªè´Ÿè´£å®‰å…¨åœ°åŠ è½½å’Œæ‰§è¡Œç­–ç•¥ä»£ç ï¼Œä¸å…³å¿ƒä»£ç æ¥æºï¼ˆAI ç”Ÿæˆã€äººå·¥ç¼–å†™æˆ–å…¶ä»–æ–¹å¼ï¼‰
